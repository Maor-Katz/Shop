(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{127:function(e,t,a){e.exports=a(155)},132:function(e,t,a){},151:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),o=a.n(c),s=(a(132),a(34)),i=a(6),l=a.n(i),u=a(8),m=a(205),d=a(192),p=a(188),f=a(206),h=a(185),g=a(202),v=a(193),E=a(72),b=a.n(E),y=a(156),O=a(186),w=a(15),N=function(e,t){return{type:e,value:t}},j=function(e,t){return{type:e,value:t}},S=function(e,t){return{type:e,value:t}},P=function(e,t){return{type:e,value:t}},x=a(187),C=a(49);function k(){return r.a.createElement(y.a,{variant:"body2",color:"textSecondary",align:"center"},"Maor \xa9 ",r.a.createElement(h.a,{color:"inherit",href:"https://material-ui.com/"},"Website")," ",(new Date).getFullYear(),".")}var A=Object(O.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var I=Object(w.b)((function(e){return{existingUser:e.existingUser,userStatus:e.userStatus,view:e.view}}))(Object(C.g)((function(e){var t=A(),a=Object(n.useState)(""),c=Object(s.a)(a,2),o=(c[0],c[1],Object(n.useState)(!1)),i=Object(s.a)(o,2);i[0],i[1],Object(n.useEffect)((function(){E()}),[]);var E=function(){var t=e.dispatch;window.addEventListener("resize",(function(){window.innerWidth<1200?(t(P("ABOUT_PAGE",!1)),t(P("INFO_PAGE",!1)),t(P("MOBILE_MENU",!0)),t(P("LOGIN_PAGE",!0))):(t(P("ABOUT_PAGE",!0)),t(P("INFO_PAGE",!0)),t(P("MOBILE_MENU",!1)),t(P("LOGIN_PAGE",!0)))})),window.innerWidth<1200&&(t(P("ABOUT_PAGE",!1)),t(P("INFO_PAGE",!1)),t(P("MOBILE_MENU",!0)))};function O(){return(O=Object(u.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.existingUser)});case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,localStorage.token=n.token,localStorage.email=e.existingUser.email,C(""),window.location.reload(!1),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),C("wrong credentials");case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}function w(t,a){var n,r;(0,e.dispatch)((n=t,r=a.target.value,{type:n,value:r}))}var N=Object(n.useState)(""),j=Object(s.a)(N,2),S=j[0],C=j[1],I=e.userStatus;return e.view.loginPage&&r.a.createElement("div",{className:"loginWrapper"},r.a.createElement(x.a,{component:"main",maxWidth:"xs",className:"flex1"},r.a.createElement(p.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(m.a,{className:t.avatar},r.a.createElement(b.a,null)),r.a.createElement(y.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return w("EMAIL",e)}}),r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return w("PASSWORD",e)}}),S&&r.a.createElement("span",{className:"errMsg"},S,r.a.createElement("span",{className:"chat"})),r.a.createElement(d.a,{disabled:localStorage.token,fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){return function(){return O.apply(this,arguments)}()}},"Sign In"),r.a.createElement(v.a,{container:!0},r.a.createElement(v.a,{item:!0},r.a.createElement(h.a,{href:"/register",variant:"body2"},"Don't have an account? Sign Up"))))),localStorage.token&&r.a.createElement(d.a,{variant:"contained",color:"primary",className:t.submit,onClick:function(){return e.history.push("/shop")}},I.userOpenOrder?"Continue Shopping!":"Start Shopping"),r.a.createElement(g.a,{mt:8},r.a.createElement(k,null))))}))),_=a(21),M=a(22),T=a(24),B=a(23),D=a(25),F=function(e){function t(){return Object(_.a)(this,t),Object(T.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return this.props.view.aboutPage&&r.a.createElement("div",{className:"aboutPage"},r.a.createElement("h1",{className:"aboutTitle"},"About Us"),r.a.createElement("p",{className:"storeParagraph"},"Welcome to Megasport shop, your number one source for all things wights, cloths, tools. We're dedicated to giving you the very best of products, with a focus on dependability, customer service and uniqueness. Founded in 1990 by Maor Katz , Megasport has come a long way from its beginnings in a starting location, ie: home office, toolshed, Houston, TX. When Maor first started out, his/her passion for helping other parents be more eco-friendly, providing the best equipment for his fellow musicians drove him to do intense research, quit her day job, and gave him the impetus to turn hard work and inspiration into to a booming online store. We hope you enjoy our products as much as we enjoy offering them to you. If you have any questions or comments, please don't hesitate to contact us. Sincerely, Maor, CEO"))}}]),t}(r.a.Component),U=Object(w.b)((function(e){return{userStatus:e.userStatus,view:e.view}}))(Object(C.g)(F)),R=a(157),W=a(102),G=a(195),L=a(194),q=a(96),z=a.n(q),Y=Object(O.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:400,margin:"auto",marginTop:"20px"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}}));function H(e){var t=Y();return r.a.createElement(R.a,{component:"form",className:"".concat(t.root," glassField")},r.a.createElement(W.a,{className:t.input,placeholder:"Search Product...",onChange:function(t){return e.handler(t)},inputProps:{"aria-label":"search google maps"}}),r.a.createElement(L.a,{className:t.iconButton,"aria-label":"search",onClick:function(){return e.searchProduct()}},r.a.createElement(z.a,null)),r.a.createElement(G.a,{className:t.divider,orientation:"vertical"}))}function J(e){var t=0;for(var a in e)e[a]&&++t;return t}function V(){return X.apply(this,arguments)}function X(){return(X=Object(u.a)(l.a.mark((function e(){var t,a,n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/auth/".concat(localStorage.email));case 2:return t=e.sent,e.next=5,t.json();case 5:if(0!==(a=e.sent).length){e.next=8;break}return e.abrupt("return",[]);case 8:return e.next=10,fetch("/products/cart/".concat(a[0]&&a[0].Identity_num));case 10:return n=e.sent,e.next=13,n.json();case 13:return r=e.sent,c=r.filter((function(e){return 0==e.isDone}))[0]||[],e.abrupt("return",[a[0],c.cart_id||"no-open-cart"]);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(u.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/products/getcartid/".concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:if(!(n=e.sent)[0]){e.next=10;break}return e.abrupt("return",n[0].cart_id);case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t){return Q.apply(this,arguments)}function Q(){return(Q=Object(u.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/products/invoice",{responseType:"blob"}).then((function(e){return e.blob()})).then((function(e){if(a){window.open("/").location=URL.createObjectURL(new Blob([e],{type:"application/pdf"})),(t=document.createElement("a")).href=n,t.setAttribute("download","Voucher.pdf"),document.body.appendChild(t)}else{var t,n=URL.createObjectURL(new Blob([e]));(t=document.createElement("a")).href=n,t.setAttribute("download","Voucher.pdf"),document.body.appendChild(t),t.click()}t.parentNode.removeChild(t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=Object(u.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/products/download/".concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstname:a.firstname,lastname:a.lastname,email:a.email})});case 2:return n=e.sent,e.next=5,n.json();case 5:e.sent;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return ae.apply(this,arguments)}function ae(){return(ae=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/products/category");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){alert("Required token!"),localStorage.clear(),e.history.push("/login")}function re(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(u.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/products/openreservation/".concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e){return se.apply(this,arguments)}function se(){return(se=Object(u.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/products/allreservations/".concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ie=a(75),le=a.n(ie),ue=a(99),me=a(17),de=a(201),pe=function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(T.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={productsForCart:[],totalPrice:0,searchBox:"",listForSuggest:[],form:{city:"",street:"",date:new Date,credit:""},selectedDate:new Date,errMsg:"",successMsg:""},a.customStyles={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},a.getUserTotalPrice=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/products/sum/".concat(localStorage.email));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a.setState({totalPrice:Object.values(n[0])[0]});case 7:case"end":return e.stop()}}),e)}))),a.getUserProducts=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/products/productsbyid/".concat(localStorage.email),{headers:{token:localStorage.token}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a.setState({productsForCart:n});case 7:case"end":return e.stop()}}),e)}))),a.handler=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({searchBox:t.target.value});case 2:a.checkAutoSuggest();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.checkAutoSuggest=function(){var e=a.state,t=e.productsForCart,n=e.searchBox,r=t.filter((function(e){var t=new RegExp(n,"i"),a=t.exec(e.product_name);return null===a&&(a=[]),e.newArr=e.product_name.replace(t,"|"+a[0]+"|").split("|"),t.test(e.product_name)}));a.setState({listForSuggest:r})},a.updateForm=function(e,t){var n=a.state.form;n[t]="date"===t?e.constructor():e.target.value,a.setState({form:n})},a.fillTextField=function(e){var t=a.state.form,n=a.props.userDetails;t[e]=n.userDetails[e],a.setState({form:t})},a.changeDate=function(e){a.state.form.date=e,a.setState({selectedDate:e})},a.disableWeekends=function(e){return 5===e.getDay()||6===e.getDay()},a.checkNumOfOrders=Object(u.a)(l.a.mark((function e(){var t,n,r,c,o,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.form,n=t.date.getFullYear(),r=t.date.getMonth()+1,c="0".concat(r).slice(-2),o=t.date.getDate(),s="0".concat(o).slice(-2),e.next=8,fetch("/products/ordersbydate/".concat(n,"-").concat(c,"-").concat(s));case 8:return i=e.sent,e.next=11,i.json();case 11:if(!(e.sent.length>2)){e.next=16;break}return e.abrupt("return",!1);case 16:return e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e)}))),a.confirmOrder=Object(u.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.userDetails,n=a.state.form,e.prev=2,e.next=5,a.checkNumOfOrders();case 5:if(!1!==e.sent){e.next=9;break}return a.setState({errMsg:"No Shipping at your date, please choose another Date"}),e.abrupt("return");case 9:return e.next=11,fetch("/products/confirm/".concat(t.userDetails.Identity_num),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({arrival_date:"".concat(n.date.toISOString())})});case 11:return r=e.sent,e.next=14,r.json();case 14:e.sent,a.setState({successMsg:"Your reservation had been confirmed!"}),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),a.setState({errMsg:"Can not confirm your order, please try again later"}),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[2,18]])}))),a}return Object(D.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.dispatch,this.getUserProducts(),this.getUserTotalPrice(),e.next=5,V();case 5:a=e.sent,t((n="DETAILS",r={userDetails:a[0],userCartId:a[1]},{type:n,value:r}));case 7:case"end":return e.stop()}var n,r}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.errMsg,n=t.searchBox,c=t.listForSuggest,o=t.form,s=t.selectedDate,i=t.successMsg,l=this.props.view;return r.a.createElement("div",{className:"orderPage"},r.a.createElement("h2",{className:"storeInfoTitle "},"My Order"),!l.mobileMenu&&r.a.createElement("div",null,r.a.createElement(H,{handler:this.handler})),n&&r.a.createElement("div",{className:"autosuggest"},c.map((function(e){return r.a.createElement("div",null,r.a.createElement("span",null,e.newArr[0],r.a.createElement("span",{className:"red"},e.newArr[1]),e.newArr[2]))}))),r.a.createElement(d.a,{variant:"contained",href:"/shop",className:"backToShop"},"Back To Shop"),r.a.createElement("div",null,r.a.createElement("h1",null,"Shipping details:"),r.a.createElement("div",{className:"citySection tooltip"},r.a.createElement("span",{class:"tooltiptext"},"Double click in order to insert your city",r.a.createElement("span",{className:"chat black"})),r.a.createElement("h3",{className:"sectionTitle"},"City"),r.a.createElement("span",null," ",r.a.createElement(f.a,{required:!0,id:"standard-basic",label:"City",value:o.city,onChange:function(t){return e.updateForm(t,"city")},onDoubleClick:function(){return e.fillTextField("city")}}))),r.a.createElement("div",{className:"streetSection tooltip"},r.a.createElement("span",{class:"tooltiptext"},"Double click in order to insert your street",r.a.createElement("span",{className:"chat black"})),r.a.createElement("h3",{className:"sectionTitle"},"Street"),r.a.createElement("span",null," ",r.a.createElement(f.a,{required:!0,id:"standard-basic",label:"street",onChange:function(t){return e.updateForm(t,"street")},value:o.street,onDoubleClick:function(){return e.fillTextField("street")}}))),r.a.createElement("div",{className:"dateSection"},r.a.createElement("h3",{className:"sectionTitle"},"Shipping Date"),r.a.createElement("span",null,r.a.createElement(me.a,{utils:ue.a},r.a.createElement(de.a,{disablePast:!0,shouldDisableDate:this.disableWeekends,value:s,onChange:function(t){return e.changeDate(t)}})))),r.a.createElement("h2",{className:"paymentTitle"},"Payments:"),r.a.createElement("div",{className:"cretidSection"},r.a.createElement("h3",{className:"sectionTitle"},"Credit"),r.a.createElement("span",null," ",r.a.createElement(f.a,{required:!0,type:"number",id:"standard-basic",label:"Standard",onChange:function(t){return e.updateForm(t,"credit")}}))),r.a.createElement("div",null,r.a.createElement(d.a,{variant:"contained",color:"primary",disabled:!Object.values(o).every((function(e){return e})),className:"confirmBtn",onClick:function(){return e.confirmOrder()}},"confirm order"))),r.a.createElement(le.a,{isOpen:a||i,style:this.customStyles,contentLabel:"Example Modal",ariaHideApp:!1},a&&r.a.createElement("div",null,r.a.createElement("div",{className:"errorMsg"},a),r.a.createElement("div",{className:"addBtnModal"},r.a.createElement(d.a,{size:"small",color:"primary",className:"addButton",onClick:function(){return e.setState({errMsg:"",successMsg:""})}},"Close"))),i&&r.a.createElement("div",null,r.a.createElement("div",{className:"lineModal"}),r.a.createElement("div",{className:"successMsg"},i),r.a.createElement("div",{className:"voucherBtn"},r.a.createElement(d.a,{variant:"contained",color:"primary",onClick:function(e){return $(e,!0)},className:"width111"},"print"),r.a.createElement("span",{className:"leftMargin"}," ",r.a.createElement(d.a,{variant:"contained",color:"primary",onClick:function(e){return $(e)}},"download"))),r.a.createElement("div",{className:"addBtnModal"},r.a.createElement(d.a,{size:"small",color:"primary",href:"/shop",className:"addButton",onClick:function(){return e.setState({errMsg:"",successMsg:""})}},"OK")))))}}]),t}(r.a.Component),fe=Object(w.b)((function(e){return{userDetails:e.userDetails,view:e.view}}))(Object(C.g)(pe)),he=a(149),ge=function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(T.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={productsNum:0,ordersNum:0,lastUserOrder:{},name:""},a}return Object(D.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n,r,c,o,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.dispatch,fetch("/products").then((function(e){return e.json()})).then((function(e){s.setState({productsNum:Object.values(e[0])[0]})})),fetch("/products/orders").then((function(e){return e.json()})).then((function(e){s.setState({ordersNum:Object.values(e[0])[0]})})),!localStorage.email){e.next=20;break}return e.next=6,re(localStorage.email);case 6:return a=e.sent,e.next=9,V();case 9:if(n=e.sent,r=n[0].firstname,this.setState({userOpenOrder:!0,name:r}),!(a.length>0)){e.next=16;break}t(N("OPEN_ORDER",!0)),e.next=20;break;case 16:return e.next=18,oe(localStorage.email);case 18:(c=e.sent).length>0?(o=c.pop(),this.setState({lastUserOrder:o,name:r})):t(N("NEW_USER",!0));case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.productsNum,a=e.ordersNum,n=e.lastUserOrder,c=e.name,o=this.props,s=o.userStatus;return o.view.infoPage&&r.a.createElement("div",{className:"storeInfoPage"},r.a.createElement("h1",{className:"storeInfoTitle"},"Store Information"),r.a.createElement("div",{className:"infoDetails"},r.a.createElement("div",{className:"numOfProducts"},"Availble products of Megasport : ",t),r.a.createElement("div",{className:"numOfProducts"},"Orders completed of Megasport : ",a),s.itsNewUser&&r.a.createElement("h3",{className:"storeNotfication"},"Welcome ",c,"!"),s.userOpenOrder&&r.a.createElement("h3",null,r.a.createElement("span",{className:"underline"},c,"!")," you forgot some products..."),Object.keys(n).length>0&&r.a.createElement("h3",null,"Your last purchase was at ",he(n.order_date).format("MMMM Do YYYY, h:mm:ss a"))),r.a.createElement("div",{className:"circle1"}),r.a.createElement("div",{className:"circle2"}),r.a.createElement("div",{className:"circle3"}))}}]),t}(r.a.Component),ve=Object(w.b)((function(e){return{userStatus:e.userStatus,view:e.view}}))(Object(C.g)(ge)),Ee=a(191),be=a(207),ye=a(203),Oe=a(208);function we(){return r.a.createElement(y.a,{variant:"body2",color:"textSecondary",align:"center"},"Maor \xa9 ",r.a.createElement(h.a,{color:"inherit",href:"https://material-ui.com/"},"Website")," ",(new Date).getFullYear(),".")}var Ne=Object(O.a)((function(e){return{root:{height:"100vh",flexBasis:"unset",maxWidth:"none"},image:{backgroundImage:"url(https://images.unsplash.com/photo-1582020086775-1c3fc831a1c7?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max)",backgroundRepeat:"no-repeat",backgroundColor:"dark"===e.palette.type?e.palette.grey[900]:e.palette.grey[50],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(1,1),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var je=Object(w.b)((function(e){return{newUser:e.newUser,view:e.view}}))((function(e){var t=Ne();Object(n.useEffect)((function(){a()}),[]);var a=function(){var t=e.dispatch;window.addEventListener("resize",(function(){window.innerWidth<1200?(t(P("ABOUT_PAGE",!1)),t(P("INFO_PAGE",!1))):(t(P("ABOUT_PAGE",!0)),t(P("INFO_PAGE",!0)))})),window.innerWidth<1200&&(t(P("ABOUT_PAGE",!1)),t(P("INFO_PAGE",!1)))};function c(t,a){var n,r;(0,e.dispatch)((n=t,r=a.target.value,{type:n,value:r}))}function o(){return i.apply(this,arguments)}function i(){return(i=Object(u.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/auth/check",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.newUser.email,Identity_num:e.newUser.id})});case 3:return a=t.sent,t.next=6,a.json();case 6:return t.sent,t.abrupt("return","success!");case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return","err");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function E(){return(E=Object(u.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(4!==J(e.newUser)){t.next=11;break}return t.next=4,o();case 4:if(a=t.sent,e.newUser.password===e.newUser.confirm_password){t.next=8;break}return A("verify your password please!"),t.abrupt("return");case 8:"success!"===a?(S(!0),A("")):A("Id or Email is already exists"),t.next=13;break;case 11:return A("Please fill all fields!"),t.abrupt("return");case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(){return(O=Object(u.a)(l.a.mark((function t(){var a,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.newUser,t.prev=1,t.next=4,fetch("/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstname:a.firstname,lastname:a.lastname,email:a.email,Identity_num:a.id,street:a.street,role:a.role,password:a.password,city:a.city})});case 4:return n=t.sent,t.next=7,n.json();case 7:return r=t.sent,localStorage.token=r.token,localStorage.email=a.email,t.abrupt("return","success!");case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return","err");case 16:case"end":return t.stop()}}),t,null,[[1,13]])})))).apply(this,arguments)}var w=Object(n.useState)(!1),N=Object(s.a)(w,2),j=N[0],S=N[1],x=Object(n.useState)(""),C=Object(s.a)(x,2),k=C[0],A=C[1];return r.a.createElement("div",{className:"registerPage"},r.a.createElement(v.a,{container:!0,component:"main",className:t.root},r.a.createElement(p.a,null),r.a.createElement(v.a,{item:!0,xs:12,sm:8,md:5,component:R.a,elevation:6,square:!0,className:t.root},r.a.createElement("div",{className:t.paper},r.a.createElement(m.a,{className:t.avatar},r.a.createElement(b.a,null)),r.a.createElement(y.a,{component:"h1",variant:"h5"},"Register"),r.a.createElement("form",{className:t.form,noValidate:!0},!j&&r.a.createElement("div",null," ",r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"identityNum",label:"id number",autoComplete:"email",autoFocus:!0,onChange:function(e){return c("ID",e)}}),r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",autoComplete:"email",autoFocus:!0,onChange:function(e){return c("EMAIL",e)}}),r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return c("PASSWORD",e)}}),r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Confirm Password",type:"password",id:"confirmPassword",autoComplete:"current-password",onChange:function(e){return c("CONFIRM_PASSWORD",e)}})),j&&r.a.createElement("div",null,"  ",r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"firstname",label:"first name",autoComplete:"firstname",autoFocus:!0,onChange:function(e){return c("FIRSTNAME",e)}}),r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"lastname",label:"last name",autoComplete:"email",autoFocus:!0,onChange:function(e){return c("LASTNAME",e)}}),r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"role",label:"role",autoComplete:"email",autoFocus:!0,onChange:function(e){return c("ROLE",e)}}),r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"street",label:"street",autoComplete:"email",autoFocus:!0,onChange:function(e){return c("STREET",e)}}),r.a.createElement(Ee.a,{fullWidth:!0},r.a.createElement(be.a,{id:"demo-simple-select-autowidth-label"},"Select City..."),r.a.createElement(ye.a,{required:!0,fullWidth:!0,labelId:"demo-simple-select-filled-label",id:"demo-simple-select-filled",value:e.newUser.city,onChange:function(e){return c("CITY",e)}},r.a.createElement(Oe.a,{value:"",disabled:!0},r.a.createElement("em",null,"None")),r.a.createElement(Oe.a,{value:"Tel Aviv"},"Tel Aviv"),r.a.createElement(Oe.a,{value:"Haifa"},"Haifa"),r.a.createElement(Oe.a,{value:"Beer-Shave"},"Beer-Shave")))),k&&r.a.createElement("span",{className:"errMsg"},k,r.a.createElement("span",{className:"chat"})),j?r.a.createElement(d.a,{disabled:!Object.values(e.newUser).every((function(e){return e})),type:"submit",href:"/login",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){return function(){return O.apply(this,arguments)}()}},"Sign Up"):r.a.createElement("div",{className:"paddingClass"},r.a.createElement(d.a,{variant:"contained",color:"primary",href:"#",onClick:function(){return function(){return E.apply(this,arguments)}()}},"Next")),r.a.createElement(v.a,{item:!0},r.a.createElement(h.a,{href:"/login",variant:"body2"},"have an account? Sign In")),r.a.createElement(g.a,{mt:5},r.a.createElement(we,null)))))))})),Se=(a(151),a(39)),Pe=a(196),xe=a(197),Ce=a(200),ke=a(199),Ae=a(198),Ie=a(18),_e=a(20),Me=Object(O.a)({root:{width:210,marginRight:10,marginTop:10,marginBottom:5},media:{height:140}});function Te(e){var t=Me();return r.a.createElement(Pe.a,{className:"".concat(t.root," specificCard")},r.a.createElement(xe.a,null,r.a.createElement(Ae.a,{className:t.media,image:"https://maor-katz-new-bucket1990.s3.eu-west-2.amazonaws.com/".concat(e.details.img_url),title:"Contemplative Reptile",onClick:function(){return e.editProduct(e.details)}}),r.a.createElement(ke.a,null,r.a.createElement(y.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.details.product_name),r.a.createElement(y.a,{variant:"body2",color:"textSecondary",component:"p"},e.details.price," ",r.a.createElement(_e.a,{icon:Ie.f,className:"size11"})))),r.a.createElement(Ce.a,null,r.a.createElement(d.a,{size:"small",color:"primary",className:"addButton",onClick:function(){return e.openModal(e.details)}},"Add")))}var Be=function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(T.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(D.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"LoaderPage"},r.a.createElement("div",{className:"loaderWrapper"},r.a.createElement("img",{src:"https://media.giphy.com/media/11ASZtb7vdJagM/giphy.gif",className:"loadGif"})))}}]),t}(r.a.Component),De=a(97),Fe=a.n(De),Ue=function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(T.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={searchBox:"",categories:[],productsToShow:[],modalIsOpen:!1,itemForModal:{product:"",quantity:1,img_src:"",product_id:0,price:0},userDetails:{},userCartId:0,loader:!0},a.customStyles={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},a.getAllProducts=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/products/all",{headers:{"Content-Type":"application/json",token:localStorage.token}});case 2:return 401===(t=e.sent).status&&ne(a.props),e.next=6,t.json();case 6:n=e.sent,a.setState({productsToShow:n});case 8:case"end":return e.stop()}}),e)}))),a.handler=function(e){a.setState({searchBox:e.target.value})},a.openModal=function(e){a.setState({itemForModal:{product:e.product_name,quantity:1,img_src:e.img_url,product_id:e.id||e.product_id,price:e.price},modalIsOpen:!0})},a.getProductsByCategory=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/products/bycategory/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,a.setState({productsToShow:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.searchProduct=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/products/search/".concat(a.state.searchBox));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a.setState({productsToShow:n});case 7:case"end":return e.stop()}}),e)}))),a.addCartItem=Object(u.a)(l.a.mark((function e(){var t,n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.userCartId,r=t.itemForModal,e.prev=1,e.next=4,fetch("/products/cartitem/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({product_id:r.product_id,quantity:r.quantity,price:r.price,sum_price:r.price*r.quantity,cart_id:n})});case 4:return c=e.sent,e.next=7,c.json();case 7:e.sent,a.setState({modalIsOpen:!1,itemForModal:{product:"",quantity:1,img_src:"",product_id:0,price:0}}),a.props.setForRender(100*Math.random()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])}))),a.openNewCart=Object(u.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.userDetails,e.next=3,fetch("/products/newcart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Identity_num:t.Identity_num,city:t.city,street:t.street,dateNow:(new Date).toISOString()})});case 3:return n=e.sent,e.next=6,n.json();case 6:return e.sent,e.next=9,K(t.Identity_num);case 9:r=e.sent,a.setState({userCartId:r});case 11:case"end":return e.stop()}}),e)}))),a.editProduct=function(e){if(a.state.userDetails.isAdmin){var t=a.props.dispatch;t(j("NAME_P",e.product_name)),t(j("PRICE_P",e.price)),t(j("CATEGORY_ID",e.category_id)),t(j("EDIT_PRODUCT",e.id)),t(j("IMAGE_NAME",e.img_url))}},a}return Object(D.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:return t=e.sent,this.setState({categories:t}),this.getAllProducts(),e.next=7,V();case 7:if(0!==(a=e.sent).length){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,this.setState({userDetails:a[0],userCartId:a[1],loader:!1});case 12:"no-open-cart"===a[1]&&this.openNewCart();case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.categories,n=t.productsToShow,c=t.modalIsOpen,o=t.itemForModal,s=t.userDetails,i=t.userCartId,l=t.loader,u=this.props,m=u.shoppingCart,p=u.dispatch,f=u.isAdmin,h=u.view;return r.a.createElement("div",{className:"Shop ".concat(m&&h.mobileMenu&&"displayNone")},l&&r.a.createElement(Be,null),r.a.createElement("div",{className:"logoutWrapper"},r.a.createElement("div",{className:"hiLogo"},"Hey ",s.firstname,"!"),r.a.createElement("a",{className:"logoutBtn",onClick:function(){return localStorage.clear()},href:"/login"},"Logout")),r.a.createElement("img",{src:"https://www.bls.gov/spotlight/2017/sports-and-exercise/images/cover_image.jpg",className:"logo",alt:"none"}),!f&&r.a.createElement("div",{className:"openCartBtn",onClick:function(){return p(S("SHOPPING_CART",!m))}},r.a.createElement(_e.a,{icon:Ie.g,className:"shoppingIcon"}),r.a.createElement(_e.a,{icon:m?Ie.a:Ie.b,className:"rightArrow"})),r.a.createElement("h1",{className:"storeInfoTitle fontsize"},"Megasport"),!s.isAdmin&&r.a.createElement("a",{className:"payWrapperBtn",href:"/order",onClick:function(){return function(e,t){return ee.apply(this,arguments)}(i,s)}},r.a.createElement("img",{src:Fe.a,className:"payBtn"})),r.a.createElement("div",null,r.a.createElement(H,{handler:this.handler,searchProduct:this.searchProduct})),r.a.createElement("div",{className:"categoryPanel"},r.a.createElement("div",{className:"categoryTitles"},r.a.createElement("div",{className:"specificCategory categoryAll",onClick:function(){return e.getAllProducts()}},"All",r.a.createElement("span",{className:"divider"})),a.map((function(t,n){return r.a.createElement("div",{className:"categoryWrapper",key:n},r.a.createElement("div",{className:"specificCategory",onClick:function(){return e.getProductsByCategory(t.id)}},t.category_name),!(n===a.length-1)&&r.a.createElement("span",{className:"divider"}))})))),r.a.createElement("div",{className:"productsList"},n.map((function(t,a){return r.a.createElement(Te,{details:t,openModal:e.openModal,key:a,editProduct:e.editProduct})}))),r.a.createElement(le.a,{isOpen:c,style:this.customStyles,contentLabel:"Example Modal",ariaHideApp:!1},r.a.createElement(_e.a,{icon:Ie.h,className:"closeModal",onClick:function(){return e.setState({modalIsOpen:!1,itemForModal:{product:"",quantity:1,img_src:""}})}}),r.a.createElement("img",{src:"https://maor-katz-new-bucket1990.s3.eu-west-2.amazonaws.com/".concat(o.img_src),className:"imgModal",alt:"none"}),r.a.createElement("div",{className:"productModal"},o.product),r.a.createElement("div",{className:"qunatityDiv"},r.a.createElement(_e.a,{icon:Ie.d,className:"qunatityBtn",onClick:function(){o.quantity--,e.setState({itemForModal:o})}}),r.a.createElement("span",{className:"qunatityModal"},o.quantity),r.a.createElement(_e.a,{icon:Ie.e,className:"qunatityBtn",onClick:function(){o.quantity++,e.setState({itemForModal:o})}})),r.a.createElement("div",{className:"addBtnModal"},r.a.createElement(d.a,{size:"small",color:"primary",className:"addButton",onClick:function(){return e.addCartItem()}},"Add"))))}}]),t}(r.a.Component),Re=Object(w.b)((function(e){return{shoppingCart:e.shoppingCart.shopping_cart,isAdmin:e.isAdmin.isAdmin,view:e.view}}))(Object(C.g)(Ue)),We=a(100),Ge=Object(O.a)({root:{width:180,height:190,marginTop:20,margin:"auto"}});function Le(e){var t=Ge();return r.a.createElement(Pe.a,{className:t.root},r.a.createElement(xe.a,null,r.a.createElement(Ae.a,{component:"img",alt:"Contemplative Reptile",height:"100",image:"https://maor-katz-new-bucket1990.s3.eu-west-2.amazonaws.com/".concat(e.details.img_url),title:"Contemplative Reptile"}),r.a.createElement(ke.a,{className:"padding"},r.a.createElement(y.a,{variant:"body2",color:"textSecondary",component:"p",className:"fontSize"},e.details.quantity," X ",e.details.product_name," - ",e.details.price,"  ",r.a.createElement(_e.a,{icon:Ie.f,className:"size11"})))),r.a.createElement(Ce.a,null,!e.atOrder&&r.a.createElement(d.a,{size:"small",color:"primary",className:"searchProduct",onClick:function(){return e.deleteProductItem(e.details.product_id)}},"Delete")))}var qe=a(98),ze=a.n(qe),Ye=Object(O.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}}));function He(e){var t=Ye();return r.a.createElement("div",{className:t.root},r.a.createElement("input",{accept:"image/*",className:t.input,id:"contained-button-file",multiple:!0,type:"file",onChange:function(t){return e.uploadHandler(t)}}),r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(d.a,{variant:"contained",color:"primary",component:"span"},"Upload")),r.a.createElement("input",{accept:"image/*",className:t.input,id:"icon-button-file",type:"file",onChange:function(t){return e.uploadHandler(t)}}),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement(L.a,{color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(ze.a,null))))}var Je=a(83),Ve=a.n(Je),Xe=Object(O.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:210},selectEmpty:{marginTop:e.spacing(2)}}}));function Ke(e){var t=Xe(),a=r.a.useRef(null),n=r.a.useState(0),c=Object(s.a)(n,2),o=c[0],i=c[1];return r.a.useEffect((function(){i(a.current.offsetWidth)}),[]),r.a.createElement("div",null,r.a.createElement(Ee.a,{variant:"outlined",className:t.formControl},r.a.createElement(be.a,{ref:a,htmlFor:"outlined-age-native-simple"},"Category"),r.a.createElement(ye.a,{native:!0,value:e.categoryId,onChange:function(t){return e.dispatch(j("CATEGORY_ID",+t.target.value))},labelWidth:o,inputProps:{name:"age",id:"outlined-age-native-simple"}},r.a.createElement("option",{value:""}),e.categories.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.category_name)})))))}var Ze=function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(T.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={productsForCart:[],totalPrice:0,categories:[],files:{},addNewProdForm:!1},a.useStyles=Object(O.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),a.checkView=function(){var e=a.props.dispatch;window.addEventListener("resize",(function(){window.innerWidth<1200?e(P("MOBILE_MENU",!0)):e(P("MOBILE_MENU",!1))})),window.innerWidth<1200&&e(P("MOBILE_MENU",!0))},a.getUserTotalPrice=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/products/sum/".concat(localStorage.email));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a.setState({totalPrice:Object.values(n[0])[0]||0});case 7:case"end":return e.stop()}}),e)}))),a.getUserProducts=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/products/productsbyid/".concat(localStorage.email),{headers:{"Content-Type":"application/json",token:localStorage.token}});case 2:return 401===(t=e.sent).status&&ne(a.props),e.next=6,t.json();case 6:n=e.sent,a.setState({productsForCart:n});case 8:case"end":return e.stop()}}),e)}))),a.deleteProductItem=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/products/product/".concat(t),{method:"DELETE"});case 2:return n=e.sent,e.next=5,n.json();case 5:e.sent,a.getUserProducts(),a.getUserTotalPrice();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.uploadHandler=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=a.props.dispatch)(j("UPLOAD_IMAGE",t.target.files)),n(j("IMAGE_NAME",t.target.files[0].name));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.addProduct=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props,r=n.newProduct,c=n.productId,r.files[0]||!t){e.next=3;break}return e.abrupt("return",console.error("please add image to the product"));case 3:return e.next=5,a.uploadImg();case 5:return e.prev=5,e.next=8,fetch("/products/".concat(t?"addproduct":"editproduct"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(We.a)({},r,{imgName:r.img_name,productToEdit:!t&&c.productId}))});case 8:return o=e.sent,e.next=11,o.json();case 11:e.sent,a.cleanNewProductForm(),a.setState({addNewProdForm:!1}),a.props.setForRender(100*Math.random()),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),console.log("upload file failed",e.t0);case 20:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t){return e.apply(this,arguments)}}(),a.uploadImg=Object(u.a)(l.a.mark((function e(){var t,n,r,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.props.newProduct,n=new FormData,r=0;r<t.files.length;r++)n.append("abc",t.files[r],t.files[r].name);return e.prev=3,e.next=6,fetch("/products/uploadimg",{method:"POST",body:n});case 6:return c=e.sent,e.next=9,c.json();case 9:o=e.sent,console.log(o),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log("upload file failed",e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),a.cleanNewProductForm=function(){var e=a.props.dispatch;e(j("UPLOAD_IMAGE",{})),e(j("IMAGE_NAME","")),e(j("PRICE_P",0)),e(j("NAME_P","")),e(j("CATEGORY_ID",0))},a.showAddProductForm=function(){a.cleanNewProductForm(),a.setState({addNewProdForm:!0})},a}return Object(D.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.dispatch,this.checkView(),this.getUserProducts(),this.getUserTotalPrice(),e.next=6,V();case 6:if(a=e.sent,n=a[0]&&a[0].isAdmin,t({type:"IS_ADMIN",value:n}),!n){e.next=14;break}return e.next=12,te();case 12:r=e.sent,this.setState({categories:r});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.productsForCart,n=t.totalPrice,c=t.categories,o=t.addNewProdForm,s=this.props,i=s.shoppingCart,l=s.isAdmin,u=s.newProduct,m=s.dispatch,p=s.view;return r.a.createElement("div",{className:"myCartPanel ".concat(i||l?"flex1":"flex0"," ").concat(p.mobileMenu&&"/order"===window.location.pathname&&"displayNone"," ").concat(this.props.atOrder?"cartAtOrder":"")},l?r.a.createElement("div",{className:"adminPanel"},r.a.createElement("div",null,o?r.a.createElement("h2",{className:"storeInfoTitle "},"Add New Product"):r.a.createElement("h2",{className:"storeInfoTitle "},"Edit"),r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,label:"Name",value:u.name,autoFocus:!0,onChange:function(e){return m(j("NAME_P",e.target.value))}}),r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,label:"Price",value:u.price,type:"number",autoFocus:!0,onChange:function(e){return m(j("PRICE_P",+e.target.value))}}),r.a.createElement(Ke,{categories:c,dispatch:m,categoryId:u.category_id}),r.a.createElement(He,{uploadHandler:this.uploadHandler}),o?r.a.createElement(d.a,{variant:"contained",color:"primary",size:"large",className:"saveBtn",startIcon:r.a.createElement(Ve.a,null),onClick:function(){return e.addProduct(!0)}},"Add"):r.a.createElement(d.a,{variant:"contained",color:"primary",size:"large",className:"saveBtn",startIcon:r.a.createElement(Ve.a,null),onClick:function(){return e.addProduct(!1)}},"Save")),r.a.createElement("div",null,r.a.createElement("img",{className:"imageAdd",src:"https://d2gg9evh47fn9z.cloudfront.net/800px_COLOURBOX11070076.jpg",onClick:function(){return e.showAddProductForm()}}))):r.a.createElement("div",null,r.a.createElement("h2",{className:"storeInfoTitle "},"My Cart"),a.map((function(t,a){return r.a.createElement(Le,{details:t,key:a,deleteProductItem:e.deleteProductItem,atOrder:!!e.props.atOrder})})),r.a.createElement("div",{className:"totalPrice"},"Total price : ",n," ",r.a.createElement(_e.a,{icon:Ie.f,className:"size12"})),p.mobileMenu&&r.a.createElement(d.a,{size:"small",variant:"contained",color:"primary",className:"marginBottom",onClick:function(){return m(S("SHOPPING_CART",!1))}},"Back To Shop")))}}]),t}(r.a.Component),$e=Object(w.b)((function(e){return{shoppingCart:e.shoppingCart.shopping_cart,isAdmin:e.isAdmin.isAdmin,newProduct:e.newProduct,productId:e.editProduct,view:e.view}}))(Object(C.g)(Ze)),Qe=function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(T.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={menuBar:!1,hamburgerBtn:!0},a.openAboutPage=function(){var e=a.props.dispatch;e(P("ABOUT_PAGE",!0)),e(P("INFO_PAGE",!1)),e(P("LOGIN_PAGE",!1)),a.setState({menuBar:!1,hamburgerBtn:!0})},a.openLoginPage=function(){var e=a.props.dispatch;e(P("ABOUT_PAGE",!1)),e(P("INFO_PAGE",!1)),e(P("LOGIN_PAGE",!0)),a.setState({menuBar:!1,hamburgerBtn:!0})},a.openInfoPage=function(){var e=a.props.dispatch;e(P("ABOUT_PAGE",!1)),e(P("INFO_PAGE",!0)),e(P("LOGIN_PAGE",!1)),a.setState({menuBar:!1,hamburgerBtn:!0})},a}return Object(D.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=(t.dispatch,t.view),n=this.state,c=n.menuBar,o=n.hamburgerBtn;return a.mobileMenu&&r.a.createElement("div",{className:"MenuComponent"},o&&r.a.createElement(_e.a,{icon:Ie.c,className:"menuIcon",size:"large",onClick:function(){return e.setState({menuBar:!0,hamburgerBtn:!1})}}),!o&&r.a.createElement(_e.a,{icon:Ie.h,className:"menuIcon",size:"large",onClick:function(){return e.setState({menuBar:!1,hamburgerBtn:!0})}}),r.a.createElement("div",{className:"menuBar ".concat(c?"width80":"")},r.a.createElement("span",{className:"menuBtn ".concat(c?"inlineBlock":""),onClick:function(){return e.openLoginPage()}},"Login"),r.a.createElement("span",{className:"lineMenu"}),r.a.createElement("span",{className:"menuBtn ".concat(c?"inlineBlock":""),onClick:function(){return e.openAboutPage()}},"About"),r.a.createElement("span",{className:"lineMenu"}),r.a.createElement("span",{className:"menuBtn ".concat(c?"inlineBlock":""),onClick:function(){return e.openInfoPage()}},"Info")))}}]),t}(r.a.Component),et=Object(w.b)((function(e){return{view:e.view}}))(Object(C.g)(Qe));var tt=function(){var e=Object(n.useState)(0),t=Object(s.a)(e,2),a=(t[0],t[1]);return r.a.createElement("div",{className:"App"},r.a.createElement(Se.a,null,r.a.createElement(C.d,null,r.a.createElement(C.b,{exact:!0,path:"/login",component:function(){return r.a.createElement("div",{className:"loginPage"},r.a.createElement(I,null)," ",r.a.createElement(U,null)," ",r.a.createElement(ve,null),r.a.createElement(et,null))}}),r.a.createElement(C.b,{path:"/register",component:function(){return r.a.createElement("div",{className:"loginPage"},r.a.createElement(je,null)," ",r.a.createElement(U,null)," ",r.a.createElement(ve,null))}}),r.a.createElement(C.b,{path:"/shop",component:function(){return r.a.createElement("div",{className:"ShopPage"},r.a.createElement($e,{setForRender:a})," ",r.a.createElement(Re,{setForRender:a}))}}),r.a.createElement(C.b,{path:"/order",component:function(){return r.a.createElement("div",{className:"ShopPage"},r.a.createElement($e,{atOrder:!0})," ",r.a.createElement(fe,null))}}),r.a.createElement(C.a,{to:"/login"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var at=a(55),nt={firstname:"",lastname:"",email:"",id:"",city:"",street:"",password:"",confirm_password:"",role:""},rt={email:"",password:""},ct={shopping_cart:!1},ot={},st={isAdmin:!1},it={name:"",price:0,category_id:0,files:{},img_name:""},lt={productId:0},ut={userOpenOrder:!1,itsNewUser:!1},mt={loginPage:!0,aboutPage:!0,infoPage:!0,mobileMenu:!1},dt=Object(at.b)({newUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FIRSTNAME":var a=Object.assign({},e,{firstname:t.value});return a;case"LASTNAME":var n=Object.assign({},e,{lastname:t.value});return n;case"EMAIL":var r=Object.assign({},e,{email:t.value});return r;case"ID":var c=Object.assign({},e,{id:t.value});return c;case"CITY":var o=Object.assign({},e,{city:t.value});return o;case"STREET":var s=Object.assign({},e,{street:t.value});return s;case"ROLE":var i=Object.assign({},e,{role:t.value});return i;case"PASSWORD":var l=Object.assign({},e,{password:t.value});return l;case"CONFIRM_PASSWORD":var u=Object.assign({},e,{confirm_password:t.value});return u;default:return e}},existingUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EMAIL":var a=Object.assign({},e,{email:t.value});return a;case"PASSWORD":var n=Object.assign({},e,{password:t.value});return n;default:return e}},shoppingCart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOPPING_CART":var a=Object.assign({},e,{shopping_cart:t.value});return a;default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DETAILS":var a=Object.assign({},e,t.value);return a;default:return e}},isAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_ADMIN":var a=Object.assign({},e,{isAdmin:t.value});return a;default:return e}},newProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NAME_P":var a=Object.assign({},e,{name:t.value});return a;case"PRICE_P":var n=Object.assign({},e,{price:t.value});return n;case"CATEGORY_ID":var r=Object.assign({},e,{category_id:t.value});return r;case"UPLOAD_IMAGE":var c=Object.assign({},e,{files:t.value});return c;case"IMAGE_NAME":var o=Object.assign({},e,{img_name:t.value});return o;default:return e}},editProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_PRODUCT":var a=Object.assign({},e,{productId:t.value});return a;default:return e}},userStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_ORDER":var a=Object.assign({},e,{userOpenOrder:t.value});return a;case"NEW_USER":var n=Object.assign({},e,{itsNewUser:t.value});return n;default:return e}},view:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INFO_PAGE":var a=Object.assign({},e,{infoPage:t.value});return a;case"ABOUT_PAGE":var n=Object.assign({},e,{aboutPage:t.value});return n;case"LOGIN_PAGE":var r=Object.assign({},e,{loginPage:t.value});return r;case"MOBILE_MENU":var c=Object.assign({},e,{mobileMenu:t.value});return c;default:return e}}}),pt=Object(at.c)(dt);o.a.render(r.a.createElement(w.a,{store:pt},r.a.createElement(tt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},97:function(e,t,a){e.exports=a.p+"static/media/payBtn.2df6e9ed.jpg"}},[[127,1,2]]]);
//# sourceMappingURL=main.32168fcd.chunk.js.map